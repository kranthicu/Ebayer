class Ebay

  attr_accessor :open_url, :callname, :response_encoding, :app_id, :user_id

  def initialize(open_url, callname, response_encoding, app_id, user_id)
    @open_url = open_url
    @callname = callname
    @response_encoding= response_encoding
    @app_id = app_id
    @user_id = user_id
=begin
    @open_url= "http://open.api.sandbox.ebay.com/shopping"
    @callname= "GetUserProfile"
    @response_encoding= "JSON"
    @api_version= "721"
    @appid="azd4e9b43-0911-484d-8524-7b33dd4aa19"
    @user_id = "TESTUSER_magicalbookseller"
=end

  end


  def self.url_definer
    url = @open_url+"?callname=#{@callname}&responseencoding=#{@response_encoding}&appid=#{@appid}&siteid=0&UserID=#{@user_id}&IncludeSelector=Details&version=#{@api_version}"
    return url
  end

  def self.get_user_profile
    url = Ebay.url_definer
    new_response = HTTParty.get(url.to_s)
    puts new_response.body
  end

  
end
